<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Source of the Rust file `project5/src/main.rs`."><title>main.rs - source</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-0ef3deca4ed45ad8.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-f501212b8b071243.css"><link rel="stylesheet" disabled href="../../static.files/dark-e92fc12c34ff89d3.css"><link rel="stylesheet" disabled href="../../static.files/ayu-a0090c8b1ced384f.css"><script src="../../static.files/storage-3891ce972e3a2bf8.js"></script><script defer src="../../static.files/source-script-ea63cb6500f71309.js"></script><script defer src="../../source-files.js"></script><script defer src="../../static.files/main-bfa4087bf2db080e.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc source"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"></nav><main><nav class="sub"><a class="sub-logo-container" href="../../project5/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="example-wrap"><pre class="src-line-numbers"><a href="#1" id="1">1</a>
<a href="#2" id="2">2</a>
<a href="#3" id="3">3</a>
<a href="#4" id="4">4</a>
<a href="#5" id="5">5</a>
<a href="#6" id="6">6</a>
<a href="#7" id="7">7</a>
<a href="#8" id="8">8</a>
<a href="#9" id="9">9</a>
<a href="#10" id="10">10</a>
<a href="#11" id="11">11</a>
<a href="#12" id="12">12</a>
<a href="#13" id="13">13</a>
<a href="#14" id="14">14</a>
<a href="#15" id="15">15</a>
<a href="#16" id="16">16</a>
<a href="#17" id="17">17</a>
<a href="#18" id="18">18</a>
<a href="#19" id="19">19</a>
<a href="#20" id="20">20</a>
<a href="#21" id="21">21</a>
<a href="#22" id="22">22</a>
<a href="#23" id="23">23</a>
<a href="#24" id="24">24</a>
<a href="#25" id="25">25</a>
<a href="#26" id="26">26</a>
<a href="#27" id="27">27</a>
<a href="#28" id="28">28</a>
<a href="#29" id="29">29</a>
<a href="#30" id="30">30</a>
<a href="#31" id="31">31</a>
<a href="#32" id="32">32</a>
<a href="#33" id="33">33</a>
<a href="#34" id="34">34</a>
<a href="#35" id="35">35</a>
<a href="#36" id="36">36</a>
<a href="#37" id="37">37</a>
<a href="#38" id="38">38</a>
<a href="#39" id="39">39</a>
<a href="#40" id="40">40</a>
<a href="#41" id="41">41</a>
<a href="#42" id="42">42</a>
<a href="#43" id="43">43</a>
<a href="#44" id="44">44</a>
<a href="#45" id="45">45</a>
<a href="#46" id="46">46</a>
<a href="#47" id="47">47</a>
<a href="#48" id="48">48</a>
<a href="#49" id="49">49</a>
<a href="#50" id="50">50</a>
<a href="#51" id="51">51</a>
<a href="#52" id="52">52</a>
<a href="#53" id="53">53</a>
<a href="#54" id="54">54</a>
<a href="#55" id="55">55</a>
<a href="#56" id="56">56</a>
<a href="#57" id="57">57</a>
<a href="#58" id="58">58</a>
<a href="#59" id="59">59</a>
<a href="#60" id="60">60</a>
<a href="#61" id="61">61</a>
<a href="#62" id="62">62</a>
<a href="#63" id="63">63</a>
<a href="#64" id="64">64</a>
<a href="#65" id="65">65</a>
<a href="#66" id="66">66</a>
</pre><pre class="rust"><code><span class="doccomment">//! Project 5: Final project
//!
//! You have learned the basic components of the virtulaization.
//! In the final project, you will do an open-ended final project based on what you have learned.
//! For the final project, you should add a significant piece of functionality to the kev, as described below.
//! The project must (1) have a significant implementation component, specified by deliverables
//! (2) concern operating systems and (3) be challenging and potentially research-worthy.
//! You can modify any source code of the keos and kev infrastructure.
//! For all projects, you must write a proposal that is accepted by the course staff.
//!
//! ## Candidates for final project
//! Here is a list of possible tasks for a final project. Some are small enough that multiple options should be combined, especially if you have a larger group.
//! You are most welcome to come up with other ideas. The actual project is up to you. Please pick something manageable.
//! It is far better to complete your project to spec than it is to take on something too big and not have anything to show for it except excellent intentions (also true in the real world).
//!
//! ### Hardware
//! - Port the KeV to work on other vendor’s CPUs: AMD SVM (the rough equivalent of Intel’s VMX), ARM Virtualization
//! - Implement support for an IOMMU to allow the guest to directory access hardware
//! - Incorporate x2APIC hardware-based virtualization (Not emulation!)
//! - Implement any driver and work it on the KeV and gKeOS: VirtIO, network, NVMe, ..
//!
//! ### VM Management
//! - Implement the Kernel Same-page Merging (KSM) on KeV
//! - Implement VM snapshot and resume on KeV
//! - Implement VM live migration on KeV
//! - Implement the nested virtualization to run KeV on KeV
//! - Solve the lock-holder preemption problem on gKeOS
//!
//! ### Others
//! - Use binary translate to support shadow page table on an x86 CPU without Extended Page Table
//! - Use binary translate to support trap-and-emulate semantics on an x86 CPU without VMX or SVM support
//! - Implement vmfunc based IPC (skybridge)
//! - Run another operating system on KeV
//! - Any topic related to the virtualization that you want
//!
//! The project you choose must have a significant virtualization component. For example, you shouldn&#39;t simply port a user-level application that requires little or no kernel modification.
//! You should email a proposal to the instructor by the notified deadline.
//! The proposal must include: (1) The names of your group members; (2) What you want to do; and (3) What you are expecting to present (a list of deliverables).
//! Please keep it short (no more than several paragraphs).
//!

</span><span class="attr">#![no_std]
#![no_main]

</span><span class="kw">extern crate </span>alloc;
<span class="kw">extern crate </span>keos;
<span class="kw">extern crate </span>project1;
<span class="kw">extern crate </span>project2;
<span class="kw">extern crate </span>project3;
<span class="kw">extern crate </span>project4;

<span class="kw">use </span>project1::rr::RoundRobin;

<span class="attr">#[allow(unsafe_code)]
#[no_mangle]
</span><span class="kw">pub unsafe fn </span>main() {
    <span class="kw">unsafe </span>{ keos::thread::scheduler::set_scheduler(RoundRobin::new()) };
    <span class="kw">unsafe </span>{ kev::start_vmx_on_cpu().expect(<span class="string">&quot;Failed to initialize VMX.&quot;</span>) }
    <span class="macro">todo!</span>()
}

<span class="attr">#[allow(unsafe_code)]
#[no_mangle]
</span><span class="kw">pub unsafe fn </span>ap_main() {
    <span class="kw">unsafe </span>{ kev::start_vmx_on_cpu().expect(<span class="string">&quot;Failed to initialize VMX.&quot;</span>) }
}
</code></pre></div>
</section></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="project5" data-themes="" data-resource-suffix="" data-rustdoc-version="1.69.0-nightly (585f3eef2 2023-02-11)" data-search-js="search-28136cea55c34037.js" data-settings-js="settings-f0c5c39777a9a2f6.js" data-settings-css="settings-0bcba95ff279c1db.css" ></div></body></html>